(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{43:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(35),s=c.n(n),i=(c(43),c(2)),l=c(4),o=c.n(l),j=c(7),d=Object(r.createContext)(),b=c(18),u=c(0),h=function(e){var t,c=e.msg,a=e.page,n=e.btnMsg,s=e.response,l=e.loading,o=void 0!==l&&l,j=e.icon,d=e.cancel,h=e.iconed,p=Object(r.useState)(!1),O=Object(i.a)(p,2),x=O[0],m=O[1],f=Object(r.useState)(!1),g=Object(i.a)(f,2),y=g[0],v=g[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),w=C[0],k=C[1];return o?y?"":(a&&n&&(t=!0),Object(u.jsx)("div",{children:x?"":Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"alert float",style:{flexDirection:"column",justifyContent:"center"},children:[w&&Object(u.jsx)("p",{style:{position:"absolute",top:"31%",textDecoration:"none",fontSize:15,background:"darkred",padding:"0.5rem 0.8rem",color:"white",left:"".concat(66.5,"%"),borderRadius:10},title:"Close",onClick:function(e){d&&(m(!0),window.location.reload(),k())},children:"x"}),t?Object(u.jsxs)("div",{className:"float",style:{flexDirection:"column",justifyContent:"center"},children:[Object(u.jsx)("i",{className:j,style:{fontSize:30,marginBottom:5}}),Object(u.jsx)("h4",{style:{fontSize:16},children:s})]}):Object(u.jsxs)("div",{className:"float",children:[Object(u.jsx)("div",{className:"btn-spinner",style:{width:30,height:30,borderTopColor:"#f1b24a",borderBottomColor:"#15032b"}}),Object(u.jsx)("div",{style:{paddingLeft:10},children:Object(u.jsx)("h4",{style:{fontSize:13},children:c})})]}),t&&Object(u.jsxs)(b.b,{to:"".concat(a),className:"btn",style:{marginTop:20},onClick:function(){return v(!0)},children:[n," ",Object(u.jsx)("i",{className:h,style:{marginLeft:10}})]})]})})})):""},p=function(e){var t=e.errorMsg,c=e.successMsg,a=e.cancel,n=void 0!==a&&a,s=c||t,l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1];return j?"":Object(u.jsx)("div",{children:s&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"alert ",style:{borderRadius:3},children:[Object(u.jsxs)("div",{className:"cancel-parent",children:[Object(u.jsx)("div",{}),Object(u.jsx)("p",{className:"cancel",onClick:function(e){n&&(d(!0),window.location.reload())},children:"x"})]}),Object(u.jsxs)("div",{className:"float",style:{flexDirection:"column",padding:20,alignItems:"center",justifyContent:"center"},children:[t&&Object(u.jsx)("i",{className:"",style:{fontSize:25}}),c&&Object(u.jsx)("i",{className:"fa fa-check-circle success",style:{fontSize:25}}),Object(u.jsx)("h1",{className:"sm",children:s})]})]})})})},O=function(){var e=Object(r.useContext)(d),t=e.getSingleProperty,c=e.loading,a=e.userImage,n=Object(r.useState)(""),s=Object(i.a)(n,2),l=s[0],b=s[1],O=Object(r.useState)(!1),x=Object(i.a)(O,2),m=x[0],f=x[1],g=Object(r.useState)(!1),y=Object(i.a)(g,2),v=y[0],N=y[1],C=Object(r.useState)(!1),w=Object(i.a)(C,2),k=w[0],S=w[1];return m?Object(u.jsx)(h,{msg:"Please Wait...",loading:m,page:c?null:"newly-captured",btnMsg:"View Result"}):v?Object(u.jsx)(p,{errorMsg:"You have not entered a property ID",cancel:!0}):Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{className:"header-flex",children:[Object(u.jsxs)("div",{className:"search-input",children:[Object(u.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},className:"short customize-short",placeholder:"Search by Property ID",value:l}),Object(u.jsx)("button",{className:"btn",onClick:function(e){l?(f(!0),t(l)):N(!0)},children:"Search"})]}),Object(u.jsx)("div",{className:"not-parent",children:Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsxs)("button",{className:"sbtn",onClick:function(e){return window.location.reload()},children:[Object(u.jsx)("i",{className:"fa fa-sync",style:{paddingRight:6,fontSize:18,color:"white"}}),"Update Table"]}),Object(u.jsxs)("button",{className:"remove-backs cursor-r",children:[" ",Object(u.jsx)("i",{className:"fa fa-bell",style:{fontSize:20,cursor:"pointer"}})," "]}),Object(u.jsx)("div",{className:"avatar",children:a?Object(u.jsx)("img",{className:"img",src:"http://178.62.124.95:5000/uploads/".concat(a),alt:"Avatar"}):Object(u.jsx)("i",{className:"fa fa-user"})}),Object(u.jsxs)("button",{className:"remove-backs cursor-r",children:[" ",Object(u.jsx)("i",{className:"fa fa-ellipsis-v",style:{fontSize:20,cursor:"pointer"},onClick:function(){return S(!0)}}),k&&Object(u.jsx)("div",{style:{width:"200px",height:"100px",background:"white",padding:20,position:"absolute",right:10,boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(u.jsx)("h4",{style:{textAlign:"left",fontSize:15,fontWeight:"400",textDecoration:"underline",color:"darkblue"},onClick:Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!1),localStorage.removeItem("isAuthenticated"),window.location.reload();case 3:case"end":return e.stop()}}),e)}))),children:"Logout"})})]})]})})]})})})})},x=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(!1),s=Object(i.a)(n,2),l=s[0],o=s[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),b=d[0],h=d[1];return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("div",{className:"side-bar",children:[Object(u.jsx)("h2",{style:{textAlign:"center",marginTop:20},children:"Logo"}),Object(u.jsx)("div",{className:"item",children:Object(u.jsxs)("ul",{className:"ul-parent",children:[Object(u.jsxs)("li",{className:"lis",onClick:function(){return a(!c)},children:[Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{className:"fa fa-user fa-big"}),"Customer Enumeration",Object(u.jsx)("span",{className:"arrows",children:c?Object(u.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return a(!1)}}):Object(u.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return a(!0)}})})]}),Object(u.jsxs)("ul",{className:c?"ul-child":"ul-child hidden",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/new-captures",children:"Newly Captured Property"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/update-capture",children:"Updated Property Records"})})]})]}),Object(u.jsxs)("li",{className:"lis",onClick:function(){return o(!l)},children:[Object(u.jsxs)("h4",{children:[Object(u.jsx)("i",{className:"fa fa-tablet fa-big"})," Metering Installation",Object(u.jsx)("span",{className:"arrows",children:l?Object(u.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return o(!1)}}):Object(u.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return o(!0)}})})]}),Object(u.jsxs)("ul",{className:l?"ul-child":"ul-child hidden",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/drag",children:"Upload Metering Schedule"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/meter-view",children:"View Installed Meter"})})]})]}),Object(u.jsxs)("li",{className:"lis",onClick:function(){return h(!b)},children:[Object(u.jsxs)("h4",{children:[" ",Object(u.jsx)("i",{className:"fas fa-tachometer-alt fa-big"}),"  Asset Capturing",Object(u.jsx)("span",{className:"arrows",children:b?Object(u.jsx)("i",{className:"fas fa-chevron-up",onClick:function(){return h(!1)}}):Object(u.jsx)("i",{className:"fas fa-chevron-down",onClick:function(){return h(!0)}})})]}),Object(u.jsxs)("ul",{className:b?"ul-child":"ul-child hidden",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/transformer-views",children:"Captured Transfomer"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/feeder-views",children:"Captured Feeder"})})]})]})]})})]}),Object(u.jsx)(O,{})]})},m=c(5);var f=function(e){var t=e.title,c=e.name,r=void 0===c?"":c;return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{children:[Object(u.jsx)("h4",{style:{marginBottom:"5px",fontSize:14},children:t}),Object(u.jsx)("input",{type:"text",disabled:!0,onChange:function(e){},value:r})]})})},g=function(e){var t=e.history,c=Object(r.useContext)(d),a=c.singleProperty,n=c.operate,s=a||n;if(console.log(s),!s){return t.push("/"),void window.location.reload()}var i=s.meterAddress,l=s.googleMapCoords,o=s.meterPosition,j=s.region,b=s.serviceCenter,h=s.office,p=s.meterType,O=s.meterNumber,m=s.meterModel,g=s.meterProvider,y=s.meterOwner,v=s.phase;return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"container-wrapper",children:[Object(u.jsxs)("div",{className:"float",style:{marginTop:20,paddingRight:15},children:[Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Meter Location"}),Object(u.jsx)("button",{className:"btn",style:{background:"#4f4846"},onClick:function(){return t.push("/meter-datas")},children:"Previous"})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Meter Address",name:i}),Object(u.jsx)(f,{title:"Google Map Coords",name:l}),Object(u.jsx)(f,{title:"Meter Position",name:o}),Object(u.jsx)(f,{title:"Region",name:j}),Object(u.jsx)(f,{title:"Area Office",name:h}),Object(u.jsx)(f,{title:"Service Center",name:b})]}),Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Meter Description"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Meter Type",name:p}),Object(u.jsx)(f,{title:"Meter Number",name:O}),Object(u.jsx)(f,{title:"Meter Model",name:m}),Object(u.jsx)(f,{title:"Meter Provider",name:g}),Object(u.jsx)(f,{title:"Meter Owner",name:y}),Object(u.jsx)(f,{title:"Meter Phase",name:v})]})]})]})},y=function(e){var t=e.history,c=Object(r.useState)(!1),a=Object(i.a)(c,2),n=a[0],s=a[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],h=Object(r.useContext)(d),p=h.singleProperty,O=h.operate,m=p||O;if(!m){return t.push("/"),void window.location.reload()}var g=m.customerName,y=m.contractNumber,v=m.customerPhone,N=m.batchId,C=m.cartonNumber,w=m.meterSeal,k=m.meterCondition,S=m.meterInstallationDate,M=m.installerName,P=m.installerVendor,T=m.installerPhone,A=m.customerAuthentication,I=m.googleMapCoords;return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"container-wrapper",children:[Object(u.jsxs)("div",{className:"float",style:{marginTop:20,paddingRight:15},children:[Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Customer Information"}),Object(u.jsx)("button",{className:"btn",style:{background:"#4f4846"},onClick:function(){return t.push("/meter-data")},children:"Next"})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Customer Name",name:g}),Object(u.jsx)(f,{title:"Contract Number",name:y}),Object(u.jsx)(f,{title:"Customer Phone No",name:v})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Batch ID",name:N}),Object(u.jsx)(f,{title:"Carton Number",name:C}),Object(u.jsx)(f,{title:"Meter Seal No.",name:w}),Object(u.jsx)(f,{title:"Meter Condition",name:k}),Object(u.jsx)(f,{title:"Meter Installation Date",name:S}),Object(u.jsx)(f,{title:"Customer Authentication",name:A})]}),Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Installer Details"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Installer Name",name:M}),Object(u.jsx)(f,{title:"Installer Vendor",name:P}),Object(u.jsx)(f,{title:"Installer Phone No.",name:T})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:[Object(u.jsx)("button",{className:"btn",onClick:function(){return b(!0)},children:"View Before Installation Image"}),Object(u.jsx)("button",{className:"btn",onClick:function(){return s(!0)},children:"View After Installation Image"})]})]}),j&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return b(!1)},children:"x"}),Object(u.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:I}),Object(u.jsx)("img",{src:"http://178.62.124.95:5000/uploads/photo_6091b26a1b629327b878db7e_1620167928863.jpg",alt:"Property Portrait",className:"img-g"})]})}),n&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return s(!1)},children:"x"}),Object(u.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:I}),Object(u.jsx)("img",{src:"http://178.62.124.95:5000/uploads/photo_6091b26a1b629327b878db7e_1620167865914.jpg",alt:"Property Portrait",className:"img-g"})]})})]})},v=function(e){var t=e.history,c=a.a.useContext(d),n=c.singleProperty,s=c.operate,l=n||s,o=Object(r.useState)(!1),j=Object(i.a)(o,2),b=j[0],h=j[1];if(!l){return t.push("/"),void window.location.reload()}var p=l.feederName,O=l.feederRating,m=l.code,g=l.locationCoords,y=l.averageHourlySupply,v=l.region,N=l.office,C=l.feederAddress,w=l.googleMapCoords,k=l.feederImage,S="http://178.62.124.95:5000/uploads/".concat(k);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"container-wrapper",children:[Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Feeder Information"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Feeder Name",name:p}),Object(u.jsx)(f,{title:"Feeder Rating",name:O}),Object(u.jsx)(f,{title:"Average Houly Supply",name:y}),Object(u.jsx)(f,{title:"Code",name:m})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Asset Address",name:C}),Object(u.jsx)(f,{title:"Google Map Coords",name:w}),Object(u.jsx)(f,{title:"Location Coords",name:g}),Object(u.jsx)(f,{title:"Region",name:v}),Object(u.jsx)(f,{title:"Area Office",name:N})]})]}),b&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return h(!1)},children:"x"}),Object(u.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:"Coords"}),Object(u.jsx)("img",{src:S,alt:"Property Portrait",className:"img-g"})]})})]})},N=function(e){var t=e.history,c=a.a.useContext(d),n=c.singleProperty,s=c.operate,l=n||s,o=Object(r.useState)(!1),j=Object(i.a)(o,2),b=j[0],h=j[1];if(!l){return t.push("/"),void window.location.reload()}var p=l.transformerName,O=l.transformerOwner,m=l.transformerRating,g=l.transformerCapacity,y=l.code,v=l.averageHourlySupply,N=l.inpedentLoss,C=l.region,w=l.office,k=l.serviceCenter,S=l.transformerAddress,M=l.googleMapCoords,P=l.dtType,T=l.dtMeterNo,A=l.connectionType,I=l.cappedUnit,R=l.feederName,E=l.bandDescription,D=l.transformerImage,B="http://178.62.124.95:5000/uploads/".concat(D);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"container-wrapper",children:[Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Transformer Information"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Transformer Name",name:p}),Object(u.jsx)(f,{title:"Transformer Owner",name:O}),Object(u.jsx)(f,{title:"Transformer Rating",name:m}),Object(u.jsx)(f,{title:"Transformer Capacity",name:g}),Object(u.jsx)(f,{title:"% of Inpedant Loss",name:N}),Object(u.jsx)(f,{title:"Average Houly Supply",name:v})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Asset Address",name:S}),Object(u.jsx)(f,{title:"Google Map Coords",name:M}),Object(u.jsx)(f,{title:"Location Coords",name:E}),Object(u.jsx)(f,{title:"Region",name:C}),Object(u.jsx)(f,{title:"Area Office",name:w}),Object(u.jsx)(f,{title:"Service Center",name:k}),Object(u.jsx)(f,{title:"Code",name:y}),Object(u.jsx)(f,{title:"Supply Feeder Name",name:R}),Object(u.jsx)(f,{title:"Capped Unit",name:I})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Connection Type",name:A}),Object(u.jsx)(f,{title:"DT Type",name:P}),Object(u.jsx)(f,{title:"DT Meter No",name:T})]}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:Object(u.jsx)("button",{className:"btn",onClick:function(){return h(!0)},children:"View Transformer Image"})})]}),b&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return h(!1)},children:"x"}),Object(u.jsx)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:M}),Object(u.jsx)("img",{src:B,alt:"Property Portrait",className:"img-g"})]})})]})},C=function(e){var t=e.history,c=Object(r.useContext)(d),a=c.singleProperty,n=c.operate,s=a||n,l=Object(r.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],h=Object(r.useState)(!1),p=Object(i.a)(h,2),O=p[0],m=p[1];if(!s){return t.push("/"),void window.location.reload()}var g=s.googleMapCoords,y=s.locationCoords,v=s.buildingAddress,N=s.route,C=s.itinerary,w=s.serviceCenter,k=s.volt,S=s.distanceFromSubstation,M=s.buildingType,P=s.buildingUse,T=s.buildingActivity,A=s.bookCode,I=s.feederName,R=s.phase,E=s.region,D=s.office,B=s.connectionType,L=s.poleNumber,F=s.transformerName,G=s.areaType,V=s.occupantName,U=s.occupantRole,z=s.propertyId,H=s.propertyOwnerName,W=s.propertyServicePointImage,Y=s.propertyImage;console.log(Y);var _="https://talebvee.com/uploads/".concat(Y),J="https://talebvee.com/uploads/".concat(W);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"container-wrapper",children:[Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Property Description"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Occupant Name",name:V}),Object(u.jsx)(f,{title:"Occupant Role",name:U}),Object(u.jsx)(f,{title:"Property Owner Name",name:H}),Object(u.jsx)(f,{title:"Building Type",name:M}),Object(u.jsx)(f,{title:"Building Activity",name:T}),Object(u.jsx)(f,{title:"Building Use",name:P})]}),Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Property Location"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Building Address",name:v}),Object(u.jsx)(f,{title:"Google Map Coords",name:g}),Object(u.jsx)(f,{title:"Location Coords",name:y}),Object(u.jsx)(f,{title:"Region",name:E}),Object(u.jsx)(f,{title:"Area Office",name:D}),Object(u.jsx)(f,{title:"Service Center",name:w}),Object(u.jsx)(f,{title:"Route",name:N}),Object(u.jsx)(f,{title:"Itinerary",name:C}),Object(u.jsx)(f,{title:"Property Id",name:z})]}),Object(u.jsx)("h3",{style:{margin:"10px 15px 5px"},children:"Network Description"}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Connection Type",name:B}),Object(u.jsx)(f,{title:"Supply Transformer",name:F}),Object(u.jsx)(f,{title:"Premises Distance from S/S",name:S}),Object(u.jsx)(f,{title:"Pole Number",name:L}),Object(u.jsx)(f,{title:"Volt",name:k}),Object(u.jsx)(f,{title:"Phase",name:R})]}),Object(u.jsxs)("div",{className:"grid-3 white-back",children:[Object(u.jsx)(f,{title:"Book Code",name:A}),Object(u.jsx)(f,{title:"Feeder Name",name:I}),Object(u.jsx)(f,{title:"Area Type",name:G})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20},children:[Object(u.jsx)("button",{className:"btn",onClick:function(){return m(!0)},children:"View Property Image"}),Object(u.jsx)("button",{className:"btn",onClick:function(){return b(!0)},children:"View Service Point Image"})]})]}),O&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return m(!1)},children:"x"}),Object(u.jsxs)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:["Property Coordinate: ",g]}),Object(u.jsx)("img",{src:_,alt:"Property Portrait",className:"img-g"})]})}),j&&Object(u.jsx)("div",{className:"absolutes",children:Object(u.jsxs)("div",{className:"img-views",children:[Object(u.jsx)("p",{className:"close",title:"Close",onClick:function(){return b(!1)},children:"x"}),Object(u.jsxs)("p",{style:{position:"absolute",padding:"10px",color:"#f2f2f2"},children:["Property Coordinate: ",g]}),Object(u.jsx)("img",{src:J,alt:"Property Portrait",className:"img-g"})]})})]})},w=c(3),k=c(13),S=(new Date).toLocaleTimeString(),M=function(e){return{headers:[{label:"Property Id",key:"propertyId"},{label:"Occupant Name",key:"occupantName"},{label:"Customer Contact",key:"occupantRole"},{label:"Occupant Contact",key:"occupantContact"},{label:"Property Owner Name",key:"propertyOwnerName"},{label:"Property Owner Contact",key:"propertyOwnerContact"},{label:"Building Type",key:"buildingType"},{label:"Building Activity",key:"buildingActivity"},{label:"Building Use",key:"buildingUse"},{label:"Building Address",key:"buildingAddress"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Route",key:"route"},{label:"Itinerary",key:"itinerary"},{label:"Phase",key:"phase"},{label:"Pole Number",key:"poleNumber"},{label:"Need Pole",key:"needPole"},{label:"Area Type",key:"areaType"},{label:"Connection Posible",key:"connectionPosible"},{label:"Connection Type",key:"areaType"},{label:"Enumeration Status",key:"enumerationStatus"},{label:"Volt",key:"volt"},{label:"Region",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center",key:"serviceCenter"},{label:"Area Code",key:"areaCode"},{label:"Network Type",key:"networkType"},{label:"requestType",key:"requestType"}],fname:"Properties".concat(S,".csv")}},P=function(e,t,c,r){var a=Object.keys(e);return{filename:r,headers:c,data:t.map((function(e){var t={};return a.forEach((function(c,r){t["".concat(c)]=Object.values(e)[r]})),t}))}};var T=function(e){var t=e.history,c=a.a.useContext(d),r=c.getFeeder,n=c.feeder,s=c.createOperating,l=c.errors,o=a.a.useState(!1),j=Object(i.a)(o,2),b=j[0],p=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),a.a.useEffect((function(){p(!0),r()}),[]);var O=function(e){s(n[e.target.name]),t.push("/feeder-captured")};if(console.log(l),null===n)return Object(u.jsx)(h,{msg:"Please Wait...",loading:b,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var m={headers:[{label:"Feeder Code",key:"code"},{label:"Feeder Name",key:"feederName"},{label:"Feeder Address",key:"feederAddress"},{label:"Feeder Rating",key:"feederRating"},{label:"Average Hourly Supply",key:"averageHourlySupply"},{label:"Location Coordinate",key:"locationCoords"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center",key:"serviceCenter"}],fname:"fdr".concat(S,".csv")},f=P(n[0],n,m.headers,m.fname);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsxs)("div",{className:"new-capture",children:[Object(u.jsx)("h2",{style:{marginBottom:5},children:"Captured Feeder"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Code"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Address"}),Object(u.jsx)("th",{children:"Capacity"}),Object(u.jsx)("th",{children:"Hourly Supply"}),Object(u.jsx)("th",{children:"Google Map Coords"}),Object(u.jsx)("th",{children:"Office"}),Object(u.jsx)("th",{children:"More"})]})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.code}),Object(u.jsx)("td",{children:e.feederName}),Object(u.jsx)("td",{children:e.feederAddress}),Object(u.jsx)("td",{children:e.feederCapacity}),Object(u.jsx)("td",{children:e.averageHourlySupply}),Object(u.jsx)("td",{children:e.googleMapCoords}),Object(u.jsx)("td",{children:e.office}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"stx",name:t,onClick:O,children:" View "})})]},t)}))})]}),Object(u.jsx)("div",{style:{marginTop:20},children:Object(u.jsxs)(k.CSVLink,Object(w.a)(Object(w.a)({className:"btn"},f),{},{children:[" Download",Object(u.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var A=function(e){var t=e.history,c=a.a.useContext(d),r=c.getTransformer,n=c.transformer,s=c.createOperating,l=c.errors,o=a.a.useState(!1),j=Object(i.a)(o,2),b=j[0],p=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),a.a.useEffect((function(){p(!0),r()}),[]);var O=function(e){s(n[e.target.name]),t.push("/trans-captured")};if(null===n)return Object(u.jsx)(h,{msg:"Please Wait...",loading:b,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var m={headers:[{label:"Transformer Code",key:"code"},{label:"Transformer Name",key:"transformerName"},{label:"Transformer Rating",key:"transformerRating"},{label:"Transformer Capacity",key:"transformerCapacity"},{label:"Connection Type",key:"connectionType"},{label:"DT Type",key:"dtType"},{label:"DT Meter No",key:"dtMeterNo"},{label:"Average Hourly Supply",key:"averageHourlySupply"},{label:"Capped Unit",key:"cappedUnit"},{label:"Tariff Band Classification",key:"bandDescription"},{label:"Inpedant Loss",key:"inpedantLoss"},{label:"Supply Feeder Name",key:"feederName"},{label:"Location Coordinate",key:"locationCoords"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center Authenticate",key:"serviceCenter"}],fname:"tfr".concat(S,".csv")},f=P(n[0],n,m.headers,m.fname);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsxs)("div",{className:"new-capture",children:[Object(u.jsx)("h2",{style:{marginBottom:5},children:"Captured Transformer"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Code"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Rating"}),Object(u.jsx)("th",{children:"Capacity"}),Object(u.jsx)("th",{children:"Loss (%)"}),Object(u.jsx)("th",{children:"Hourly Supply"}),Object(u.jsx)("th",{children:"Coordinate"}),Object(u.jsx)("th",{children:"Center"}),Object(u.jsx)("th",{children:"More"})]})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.code}),Object(u.jsx)("td",{children:e.transformerName}),Object(u.jsx)("td",{children:e.transformerRating}),Object(u.jsx)("td",{children:e.transformerCapacity}),Object(u.jsx)("td",{children:e.inpedentLoss}),Object(u.jsx)("td",{children:e.averageHourlySupply}),Object(u.jsx)("td",{children:e.googleMapCoords}),Object(u.jsx)("td",{children:e.serviceCenter}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"stx",name:t,onClick:O,children:" View "})})]},t)}))})]}),Object(u.jsx)("div",{style:{marginTop:20},children:Object(u.jsxs)(k.CSVLink,Object(w.a)(Object(w.a)({className:"btn"},f),{},{children:[" Download",Object(u.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var I=function(e){var t=e.history,c=Object(r.useContext)(d),a=c.getProperties,n=c.properties,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),b=j[0],p=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){p(!0),a("enumerationStatus=Existing")}),[]);var O=function(e){s(n[e.target.name]),t.push("/newly-captured")};if(null===n)return Object(u.jsx)(h,{msg:"Please Wait...",loading:b,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var m=M(),f=P(n[0],n,m.headers,m.fname);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsxs)("div",{className:"new-capture",children:[Object(u.jsx)("h2",{style:{marginBottom:5},children:"Updated Property Records"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Property ID"}),Object(u.jsx)("th",{className:"th-wide",children:"Account Name"}),Object(u.jsx)("th",{children:"Contract No."}),Object(u.jsx)("th",{children:"Building Activity"}),Object(u.jsx)("th",{children:"Building Use"}),Object(u.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(u.jsx)("th",{children:"Coordinate"}),Object(u.jsx)("th",{children:"Region"}),Object(u.jsx)("th",{children:"Business Unit"}),Object(u.jsx)("th",{children:"Business Center"}),Object(u.jsx)("th",{children:"More"})]})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.propertyId}),Object(u.jsx)("td",{children:e.occupantName}),Object(u.jsx)("td",{children:e.buildingType}),Object(u.jsx)("td",{children:e.buildingActivity}),Object(u.jsx)("td",{children:e.buildingUse}),Object(u.jsx)("td",{children:e.buildingAddress}),Object(u.jsx)("td",{children:e.googleMapCoords}),Object(u.jsx)("td",{children:e.region}),Object(u.jsx)("td",{children:e.office}),Object(u.jsx)("td",{children:e.serviceCenter}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"stx",name:t,onClick:O,children:" View "})})]},t)}))})]}),Object(u.jsx)("div",{style:{marginTop:20},children:Object(u.jsxs)(k.CSVLink,Object(w.a)(Object(w.a)({className:"btn"},f),{},{children:[" Download",Object(u.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})},R=c(38),E=c(8),D=c.n(E),B=c(37);var L=function(e){var t=e.history,c=a.a.useContext(d).errors,n=Object(r.useState)(!1),s=Object(i.a)(n,2),l=s[0],b=s[1],O=Object(r.useState)(null),m=Object(i.a)(O,2),f=m[0],g=m[1],y=Object(r.useState)({progress:!1,cancel:!1,btMsg:null,successMsg:null,errorMsg:null}),v=Object(i.a)(y,2),N=v[0],C=v[1];"No signature! Access denied"===c&&(t.push("/"),window.location.reload());var k=N.progress,S=N.cancel,M=N.btMsg,P=N.successMsg,T=N.errorMsg;return Object(r.useEffect)((function(){f&&!P&&Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("https://talebvee.net/api/v1/metering/schedule",f,{headers:{"Content-Type":"application/json"}}).then((function(e){C({successMsg:e.data.data,cancel:!0,btMsg:"Proceed"})})).catch((function(e){return C({errorMsg:e.response.data.error,cancel:!0})}));case 2:case"end":return e.stop()}}),e)})))()}),[f]),k?Object(u.jsx)(h,{msg:"Hold on while we upload your Metering Schedule file",btnMsg:M,loading:!0,icon:"fa fa-chevron-right",page:"meter-data",response:P||""}):P||T?Object(u.jsx)(p,{errorMsg:T,successMsg:P,cancel:S}):Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{className:"grid-center",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{style:{marginBottom:10,textAlign:"center"},children:"Make sure you upload a CSV file"}),Object(u.jsx)("div",{className:"drag-n-drop notification ".concat(l?"highlighted":""),onDragOver:function(e){e.preventDefault(),b(!0)},onDrop:function(e){e.preventDefault(),b(!1),C(Object(w.a)(Object(w.a)({},N),{},{progress:!0}));var t=e.dataTransfer.files;Array.from(t).filter((function(e){return"application/vnd.ms-excel"===e.type})).forEach(function(){var e=Object(j.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:c=e.sent,r=Object(B.parse)(c,{header:!0}),g(Object(R.a)(r.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onDragLeave:function(){return b(!1)},children:Object(u.jsx)("h2",{style:{color:"#ccc"},children:"Drag & Drop Metering Schedule here"})})]})})})]})};var F=function(e){var t=e.history,c=Object(r.useContext)(d),a=c.getMeteringDetail,n=c.metering,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),b=j[0],p=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){p(!0),a()}),[]);var O=function(e){s(n[e.target.name]),t.push("/meter-data")};if(null===n)return Object(u.jsx)(h,{msg:"Please Wait...",loading:b,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var m={headers:[{label:"Property Id",key:"propertyId"},{label:"Contract Number",key:"contractNumber"},{label:"Customer Name",key:"customerName"},{label:"Customer Contact",key:"customerPhone"},{label:"Meter Number",key:"meterNumber"},{label:"Meter Type",key:"meterType"},{label:"Meter Model",key:"meterModel"},{label:"Meter Provider",key:"meterProvider"},{label:"Meter Owner",key:"meterOwner"},{label:"Meter Seal",key:"meterSeal"},{label:"Meter Batch",key:"batchId"},{label:"Google Map Coordinate",key:"googleMapCoords"},{label:"Meter Address",key:"meterAddress"},{label:"Meter Position",key:"meterCondition"},{label:"Meter Phase",key:"phase"},{label:"Carton Number",key:"cartonNumber"},{label:"Meter Installation Date",key:"meterInstallationDate"},{label:"Installer Name",key:"installerName"},{label:"Installer Vendor",key:"installerVendor"},{label:"Installer Phone No.",key:"installerPhone"},{label:"Connection Type",key:"connectionType"},{label:"Customer Authenticate",key:"customerAuthenticate"},{label:"Region.",key:"region"},{label:"Area Office",key:"office"},{label:"Service Center Authenticate",key:"serviceCenter"}],fname:"metered".concat(S,".csv")},f=P(n[0],n,m.headers,m.fname);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsxs)("div",{className:"new-capture",children:[Object(u.jsx)("h2",{style:{marginBottom:5,float:"left"},children:"Meter Installation Status"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Batch ID"}),Object(u.jsx)("th",{className:"th-wide",children:"Contract Name"}),Object(u.jsx)("th",{children:"Contract No."}),Object(u.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(u.jsx)("th",{children:"Phone No."}),Object(u.jsx)("th",{children:"Phase Type"}),Object(u.jsx)("th",{children:"Area Office"}),Object(u.jsx)("th",{children:"Center"}),Object(u.jsx)("th",{children:"Vendor"}),Object(u.jsx)("th",{children:"Installer"}),Object(u.jsx)("th",{children:"More"})]})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.batchId}),Object(u.jsx)("td",{children:e.customerName}),Object(u.jsx)("td",{children:e.contractNumber}),Object(u.jsx)("td",{children:e.meterAddress}),Object(u.jsx)("td",{children:e.customerPhase}),Object(u.jsx)("td",{children:e.phase}),Object(u.jsx)("td",{children:e.googleMapCoords}),Object(u.jsx)("td",{children:e.region}),Object(u.jsx)("td",{children:e.office}),Object(u.jsx)("td",{children:e.installerName}),Object(u.jsx)("td",{children:Object(u.jsxs)("button",{className:"stx",onClick:O,style:{background:"#f2f2f2"},name:t,children:[!0===e.installationStatus?Object(u.jsx)("i",{className:" fa fa-check-circle success",style:{marginRight:2}}):Object(u.jsx)("i",{className:"fa fa-times-circle danger",style:{marginRight:2}}),!1===e.installationStatus?"Installed":"Pending"]})})]},t)}))})]}),Object(u.jsx)("div",{style:{marginTop:20},children:Object(u.jsxs)(k.CSVLink,Object(w.a)(Object(w.a)({className:"btn"},f),{},{children:[" Download",Object(u.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})};var G=function(e){var t=e.history,c=Object(r.useContext)(d),a=c.getProperties,n=c.properties,s=c.createOperating,l=c.errors,o=Object(r.useState)(!1),j=Object(i.a)(o,2),b=j[0],p=j[1];"No signature! Access denied"===l&&(t.push("/"),window.location.reload()),Object(r.useEffect)((function(){p(!0),a("enumerationStatus=New")}),[]);var O=function(e){s(n[e.target.name]),t.push("/newly-captured")};if(console.log(l),null===n)return Object(u.jsx)(h,{msg:"Please Wait...",loading:b,response:l||null,btnMsg:l?"Go Back":"",page:l?"/":"",icon:l?"fa fa-times-circle danger":"",iconed:l?"fa fa-chevron-left":""});if(n.length<1)return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsx)("div",{style:{display:"flex",height:"60vh",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("h1",{style:{color:"#ccc"},children:"No Record Found - 404 "})})})]});var m=M(),f=P(n[0],n,m.headers,m.fname);return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"container-wrapper",children:Object(u.jsxs)("div",{className:"new-capture",children:[Object(u.jsx)("h2",{style:{marginBottom:5},children:"Newly Captured Property"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Property ID"}),Object(u.jsx)("th",{className:"th-wide",children:"Occupant Name"}),Object(u.jsx)("th",{children:"Building Type"}),Object(u.jsx)("th",{children:"Building Activity"}),Object(u.jsx)("th",{children:"Building Use"}),Object(u.jsx)("th",{className:"th-wide",children:"Building Address"}),Object(u.jsx)("th",{children:"Coordinate"}),Object(u.jsx)("th",{children:"Region"}),Object(u.jsx)("th",{children:"Business Unit"}),Object(u.jsx)("th",{children:"Business Center"}),Object(u.jsx)("th",{children:"More"})]})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.propertyId}),Object(u.jsx)("td",{children:e.occupantName}),Object(u.jsx)("td",{children:e.buildingType}),Object(u.jsx)("td",{children:e.buildingActivity}),Object(u.jsx)("td",{children:e.buildingUse}),Object(u.jsx)("td",{children:e.buildingAddress}),Object(u.jsx)("td",{children:e.googleMapCoords}),Object(u.jsx)("td",{children:e.region}),Object(u.jsx)("td",{children:e.office}),Object(u.jsx)("td",{children:e.serviceCenter}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"stx",name:t,onClick:O,children:" View "})})]},t)}))})]}),Object(u.jsx)("div",{style:{marginTop:20},children:Object(u.jsxs)(k.CSVLink,Object(w.a)(Object(w.a)({className:"btn"},f),{},{children:[" Download",Object(u.jsx)("i",{className:"fa fa-download",style:{marginLeft:10}})]}))})]})})]})},V="GETPROPERTY",U="GETPROPERTYFAIL",z="SINGLEPROPERTY",H="SINGLEPROPERTYFAIL",W="OPERATING",Y="CLEARERRORS",_="CLEARSUCCESSMSG",J="UPDATEPROPERTY",q="UPDATEPROPERTY",K="GETMETERINGDETAIL",Q="GETMETERINGDETAILFAIL",X="GETTRANSFORMER",Z="GETTRANSFORMERFAIL",$="GETFEEDER",ee="GETFEEDERFAIL",te="LOGIN",ce="LOGINFAIL",re=function(e,t){switch(t.type){case V:return Object(w.a)(Object(w.a)({},e),{},{properties:t.payload,loading:!1});case z:return Object(w.a)(Object(w.a)({},e),{},{singleProperty:t.payload,loading:!1});case W:return Object(w.a)(Object(w.a)({},e),{},{operate:t.payload});case J:return Object(w.a)(Object(w.a)({},e),{},{successMsg:t.payload});case K:return Object(w.a)(Object(w.a)({},e),{},{metering:t.payload,loading:!1});case X:return Object(w.a)(Object(w.a)({},e),{},{transformer:t.payload,loading:!1});case $:return Object(w.a)(Object(w.a)({},e),{},{feeder:t.payload,loading:!1});case _:return Object(w.a)(Object(w.a)({},e),{},{successMsg:null,loading:!0});case U:case H:case q:case Q:case Z:case ee:case ce:return Object(w.a)(Object(w.a)({},e),{},{errors:t.payload});case Y:return Object(w.a)(Object(w.a)({},e),{},{errors:null});case te:return Object(w.a)(Object(w.a)({},e),{},{login:t.payload,loading:!1});default:return e}},ae=function(e){e?D.a.defaults.headers.authorization="Bearer ".concat(e):delete D.a.defaults.headers.authorization},ne=function(e){var t=e.children,c="https://talebvee.net/api/v1",a=Object(r.useReducer)(re,{properties:null,singleProperty:null,metering:null,operate:null,successMsg:null,loading:!0,errors:null,transformer:null,feeder:null,login:null}),n=Object(i.a)(a,2),s=n[0],l=n[1],b=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&ae(localStorage.token),e.next=3,D.a.get("".concat(c,"/property/").concat(t)).then((function(e){return l({type:z,payload:e.data.data})})).catch((function(e){l({type:H,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat(c,"/property?").concat(t)).then((function(e){return l({type:V,payload:e.data.data})})).catch((function(e){l({type:U,payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("".concat(c,"/property?").concat(t),r,{headers:{"Content-Type":"application/json"}}).then((function(e){return l({type:J,payload:e.data.data})})).catch((function(e){l({type:q,payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),O=function(e){return l({type:Y})},x=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,D.a.get("".concat(c,"/metering?").concat(r)).then((function(e){return l({type:K,payload:e.data.data})})).catch((function(e){l({type:Q,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,D.a.get("".concat(c,"/transformer?").concat(r)).then((function(e){return l({type:X,payload:e.data.data})})).catch((function(e){l({type:Z,payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===t?"":t,e.next=3,D.a.get("".concat(c,"/feeder?").concat(r)).then((function(e){return l({type:$,payload:e.data.data})})).catch((function(e){l({type:ee,payload:e.response.data.error}),setTimeout(O,6e3)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(d.Provider,{value:{properties:s.properties,singleProperty:s.singleProperty,loading:s.loading,successMsg:s.successMsg,operate:s.operate,metering:s.metering,transformer:s.transformer,feeder:s.feeder,errors:s.errors,login:s.login,getFeeder:f,getTransformer:m,getMeteringDetail:x,getSingleProperty:b,getProperties:h,UpdateProperty:p,clearErrors:O,clearSucessMsg:function(e){return l({type:_})},createOperating:function(e){return l({type:W,payload:e})},loggedOrNot:function(e){return l({type:te,payload:e})},loggedError:function(e){return l({type:ce,payload:e})}},children:t})},se=c(19),ie=function(e){var t=a.a.useState({password:"",email:""}),c=Object(i.a)(t,2),r=c[0],n=c[1],s=a.a.useState(!1),l=Object(i.a)(s,2),d=l[0],b=l[1],h=r.password,p=r.email,O=function(e){return n(Object(w.a)(Object(w.a)({},r),{},Object(se.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h.length<6&&p)){e.next=3;break}return e.abrupt("return",alert("Invalid login credentials"));case 3:if(console.log(h.length),!h||!p){e.next=10;break}return b(!0),e.next=8,D.a.post("https://talebvee.net/api/v1/user/login",r,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data.data),localStorage.setItem("isAuthenticated",JSON.stringify(!0)),window.location.reload()})).catch((function(e){alert(e.response.data.error),b(!1)}));case 8:e.next=11;break;case 10:alert("Password & email address cannot be empty");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!0===localStorage.isAuthenticated?"":Object(u.jsx)("div",{className:"absolutes",style:{background:"#f2f2f2"},children:Object(u.jsxs)("form",{className:"card",style:{width:"400px"},children:[Object(u.jsx)("h3",{style:{marginTop:10,marginBottom:30,textAlign:"center"},children:"Sign In"}),Object(u.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",onChange:O}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",onChange:O}),Object(u.jsxs)("button",{className:"btn float",style:{width:"100%",marginTop:10,marginBottom:5,justifyContent:"center"},onClick:x,children:[d&&Object(u.jsx)("div",{className:"spinner",style:{marginRight:10}}),"Login"]})]})})},le=function(){return!1===localStorage.isAuthenticated||void 0===localStorage.isAuthenticated?Object(u.jsx)(ie,{}):Object(u.jsx)(ne,{children:Object(u.jsx)(b.a,{children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(p,{}),Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{exact:!0,path:"/",component:x}),Object(u.jsx)(m.a,{exact:!0,path:"/drag",component:L}),Object(u.jsx)(m.a,{exact:!0,path:"/new-captures",component:G}),Object(u.jsx)(m.a,{exact:!0,path:"/update-capture",component:I}),Object(u.jsx)(m.a,{exact:!0,path:"/meter-view",component:F}),Object(u.jsx)(m.a,{exact:!0,path:"/transformer-views",component:A}),Object(u.jsx)(m.a,{exact:!0,path:"/feeder-views",component:T}),Object(u.jsx)(m.a,{exact:!0,path:"/newly-captured",component:C}),Object(u.jsx)(m.a,{exact:!0,path:"/trans-captured",component:N}),Object(u.jsx)(m.a,{exact:!0,path:"/feeder-captured",component:v}),Object(u.jsx)(m.a,{exact:!0,path:"/meter-datas",component:y}),Object(u.jsx)(m.a,{exact:!0,path:"/meter-data",component:g}),Object(u.jsx)(m.a,{exact:!0,path:"/no-where",component:h})]})]})})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(le,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.1e2dc184.chunk.js.map